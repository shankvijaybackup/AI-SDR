[global]
type=global
user_agent=Asterisk PBX

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060

; --- CallWithUs Registration & Auth ---

[callwithus-auth]
type=auth
auth_type=userpass
password=YOUR_SIP_PASSWORD
username=YOUR_SIP_USERNAME

[callwithus-reg]
type=registration
outbound_auth=callwithus-auth
server_uri=sip:sip.callwithus.com
client_uri=sip:YOUR_SIP_USERNAME@sip.callwithus.com
retry_interval=60

; --- CallWithUs Endpoint definition ---

[callwithus-aor]
type=aor
contact=sip:sip.callwithus.com

[callwithus]
type=endpoint
context=from-callwithus
disallow=all
allow=ulaw
allow=alaw
outbound_auth=callwithus-auth
aors=callwithus-aor
direct_media=no
force_rport=yes
ice_support=yes

; --- AI Agent Endpoint (Softphone/SIP Client for the AI) ---
; This is where your Node.js SIP client or local softphone registers if needed.
; For now, we'll assume the AI is handled via EAGI or a local channel, 
; but here is a generic endpoint for a local extension (e.g. 6001).

[auth6001]
type=auth
auth_type=userpass
password=ai_secret
username=6001

[aor6001]
type=aor
max_contacts=1

[6001]
type=endpoint
context=ai-context
disallow=all
allow=ulaw
auth=auth6001
aors=aor6001
